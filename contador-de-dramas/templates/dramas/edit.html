
{% extends 'base.html' %}
{% block content %}
<h3>Editar drama</h3>
<form method="post" class="card p-3 shadow-sm border-0">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Drama</label>
      <input name="title" class="form-control" value="{{ d.title }}" required>
    </div>
    <div class="col-md-4">
      <label class="form-label">Intensidade <small class="text-muted">(0 a 10)</small></label>
      <input type="range" class="form-range" min="0" max="10" value="{{ d.intensity }}" name="intensity" id="intensityRange" oninput="updateEmoji('intensityRange','intensityEmoji','intensityValue')">
      <div class="mt-2"><span id="intensityEmoji">{{ d.intensity|emoji }}</span> <span id="intensityValue" class="badge bg-secondary">{{ d.intensity }}</span></div>
    </div>
    <div class="col-md-2">
      <label class="form-label">Autor (opcional)</label>
      <select name="user_id" class="form-select">
        <option value="">— selecione —</option>
        {% for u in users %}
          <option value="{{ u.id }}" {% if d.user_id==u.id %}selected{% endif %}>@{{ u.nickname }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-12">
      <label class="form-label">Descrição</label>
      <textarea name="description" class="form-control" rows="4" required>{{ d.description }}</textarea>
    </div>
  </div>
  <div class="mt-3 d-flex gap-2">
    <button class="btn btn-primary" type="submit"><i class="bi bi-check2"></i> Salvar</button>
    <a class="btn btn-outline-secondary" href="{{ url_for('dramas_list') }}">Cancelar</a>
  </div>
</form>
{% endblock %}
